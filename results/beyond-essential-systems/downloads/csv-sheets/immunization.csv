FHIRPath (specs),Tamanu,Data Type,Example,Notes
Immunization.id,() => generate uuid,guid,a639169d-b60f-42b6-8555-4048592d0470
Immunization.resourceType,Literal `Immunization`,constant,Immunization
Immunization.text.status,Literal `generated`
Immunization.text.div,"Literal `<div xmlns=\""http://www.w3.org/1999/xhtml\"">These are the Immunizations details for  ${Patient.firstname} ${Patient.lastName} for ${Immunization.vaccineCode.coding[0].display}. Please review the data for more detail.</div>`",constant,"<div xmlns=\""http://www.w3.org/1999/xhtml\"">These are the Immunizations for ${Patient.firstname} ${Patient.lastName} for ${Immunization.vaccineCode.coding[0].display}. Please review the data for more detail.</div>"
Immunization.patient.reference,`Patient/${Patient.id}`,reference,Patient/5ba49a87-ddec-47fe-8f49-ec26dae0608c
Immunization.patient.display,`${Patient.firstName} ${Patient.lastName}`,string,Burt Bacharach
Immunization.vaccineCode.coding[0].system,"IF (AdministeredVaccine exists for this patient)
then Literal `http://snomed.info/sct`
else Literal `http://hl7.org/fhir/uv/ips/CodeSystem/absent-unknown-uv-ips`",literal,http://nzmt.org.nz,"Please make these values configurable in default.json in:
- hl7.dataDictionaries.ips.vaccinationEncoding: ""http://nzmt.org.nz""
- hl7.dataDictionaries.ips.absentUnknown: ""http://hl7.org/fhir/uv/ips/CodeSystem/absent-unknown-uv-ips"""
Immunization.vaccineCode.coding[0].code,"IF (AdministeredVaccine exists for this patient)
then AdministeredVaccine => ScheduledVaccines.vaccineId => code 
else Literal `no-immunization-info`",string,COVID-19-Pfizer
Immunization.vaccineCode.coding[0].display,"""IF (AdministeredVaccine exists for this patient)
then AdministeredVaccine => ScheduledVaccines.vaccineId => name 
else Literal `No information about immunizations`",string,Comirnaty
Immunization.status,"  switch (AdministeredVaccine.status) {
    case VACCINE_STATUS.GIVEN:
      return 'completed';
    case VACCINE_STATUS.RECORDED_IN_ERROR:
      return 'entered-in-error';
    case VACCINE_STATUS.NOT_GIVEN:
    case VACCINE_STATUS.SCHEDULED:
    case VACCINE_STATUS.MISSED:
    case VACCINE_STATUS.DUE:
    case VACCINE_STATUS.UPCOMING:
    case VACCINE_STATUS.OVERDUE:
    case VACCINE_STATUS.UNKNOWN:
    default:
      return 'not-done';
  }",string,completed
Immunization.occurrenceDateTime,AdministeredVaccination.date,dateTime,2023-06-04T00:00:00+02:00,Not included if null
Immunization.occurrenceString,IF (AdministeredVaccination.date is null) then Literal `unknown`,string,unknown,Not included if null
