FHIRPath (specs),Tamanu,Data Type,Example,Notes
Composition.id,() => generate uuid,guid,4c6ca15a-eb68-4b37-ba7a-f6241c220ee6
Composition.resourceType,Literal `Composition`,constant,Composition
Composition.text.status,Literal `generated`
Composition.text.div,"Literal `<div xmlns=\""http://www.w3.org/1999/xhtml\"">These are the Composition details for  ${Patient.firstname} ${Patient.lastName}. Please review the data for more detail.</div>`",constant,"<div xmlns=\""http://www.w3.org/1999/xhtml\"">These are the Composition details for  ${Patient.firstname} ${Patient.lastName}. Please review the data for more detail.</div>"
Composition.status,"IF IPS exists for a patient already 
then return 'amended' ELSE 'final'",,,preliminary | final | amended | entered-in-error
Composition.type.coding[0].system,Literal `http://loinc.org`,constant,http://loinc.org
Composition.type.coding[0].code,Literal `60591-5`,constant,60591-5
Composition.type.coding[0].display,Literal `Patient summary Document`,constant,Patient summary Document
Composition.subject.reference,`Patient/{Patient.id}`,reference,Patient/5ba49a87-ddec-47fe-8f49-ec26dae0608c,Patient is the root of this document
Composition.date,now(),datetime,2023-07-25T15:10:00+09:00
Composition.author[0].display,configurable value - default = 'Tamanu is a free and open-source EHR for low resource and remote settings.',string,Tamanu is a free and open-source EHR for low resource and remote settings.
Composition.author[1].display,name of clinician ,string,Dr Dave Smith
Composition.title,Literal `International Patient Summary as at ${now()}`,string,"International Patient Summary as at July 25, 2023 15:10"
Composition.confidentiality,Literal `N`,,,http://hl7.org/fhir/R4/v3/ConfidentialityClassification/vs.html
Composition.attester.mode,Literal `professional`,constant,professional,personal | professional | legal | official
Composition.attester[0].time,now(),datetime,2023-07-25T15:10:00+09:00
Composition.attester[0].party.display,Configurable value - default = 'Ministry of Health',string,Dr Dave Smith
Composition.event[0].code[0].coding[0].system,Literal `http://terminology.hl7.org/CodeSystem/v3-ActClass`,constant,http://terminology.hl7.org/CodeSystem/v3-ActClass
Composition.event[0].code[0].coding[0].code,Literal `PCPR`,constant,PCPR
Composition.event[0].period.end,now(),datetime,2023-07-25T15:10:00+09:00
Composition.section[0].title,Literal `Medication`,constant,Medication
Composition.section[0].text.status,Literal `generated`
Composition.section[0].text.div,"Literal `<div xmlns=\""http://www.w3.org/1999/xhtml\"">These are the Medications for ${Patient.firstname} ${Patient.lastName}. Please review the data for more detail.</div>`",constant,"<div xmlns=\""http://www.w3.org/1999/xhtml\"">These are the Medications for ${Patient.firstname} ${Patient.lastName}. Please review the data for more detail.</div>"
Composition.section[0].code.coding[0].system,Literal `http://loinc.org`,constant,http://loinc.org
Composition.section[0].code.coding[0].code,Literal `10160-0`,constant,10160-0
Composition.section[0].code.coding[0].display,Literal `History of Medication use Narrative`,constant,History of Medication use Narrative
Composition.section[0].entry[n].reference,Literal `MedicationStatement/${MedicationStatement.id},constant + GUID,MedicationStatement/b33ecf8c-2398-43ec-83f0-a76faaae59e7,See MedicationStatement Sheet
Composition.section[1].title,Literal `Allergies and Intolerances`,constant,Allergies and Intolerances
Composition.section[1].text.status,Literal `generated`
Composition.section[1].text.div,"Literal `<div xmlns=\""http://www.w3.org/1999/xhtml\"">These are the Allergies for ${Patient.firstname} ${Patient.lastName}. Please review the data for more detail.</div>`",constant,"<div xmlns=\""http://www.w3.org/1999/xhtml\"">These are the Allergies for ${Patient.firstname} ${Patient.lastName}. Please review the data for more detail.</div>"
Composition.section[1].code.coding[0].system,Literal `http://loinc.org`,constant,http://loinc.org
Composition.section[1].code.coding[0].code,Literal `48765-2`,constant,48765-2
Composition.section[1].code.coding[0].display,Literal `Allergies and adverse reactions Document`,constant,Allergies and adverse reactions Document
Composition.section[1].entry[n].reference,Literal `AllergyIntolerance/${AllergyIntolerance.id}`,constant + GUID,AllergyIntolerance/4fc9d610-1d02-43af-8ff4-a8d4b258e51f,See AllergyIntolerance Sheet
Composition.section[2].title,Literal `Active Problems`,constant,Allergies and Intolerances
Composition.section[2].text.status,Literal `generated`
Composition.section[2].text.div,"Literal `<div xmlns=\""http://www.w3.org/1999/xhtml\"">These are the Conditions for ${Patient.firstname} ${Patient.lastName}. Please review the data for more detail.</div>`",constant,"<div xmlns=\""http://www.w3.org/1999/xhtml\"">These are the Conditions for ${Patient.firstname} ${Patient.lastName}. Please review the data for more detail.</div>"
Composition.section[2].code.coding[0].system,Literal `http://loinc.org`,constant,http://loinc.org
Composition.section[2].code.coding[0].code,Literal `11450-4`,constant,11450-4
Composition.section[2].code.coding[0].display,Literal `Problem list Reported`,constant,Problem list Reported
Composition.section[2].entry[n].reference,Literal `Condition/${Condition.id},constant + GUID,Condition/4fc9d610-1d02-43af-8ff4-a8d4b258e51f,See Condition Sheet
Composition.section[3].title,Literal `Immunizations`,constant,Immunizations
Composition.section[3].text.status,Literal `generated`
Composition.section[3].text.div,"Literal `<div xmlns=\""http://www.w3.org/1999/xhtml\"">These are the Immunizations for ${Patient.firstname} ${Patient.lastName}. Please review the data for more detail.</div>`",constant,"<div xmlns=\""http://www.w3.org/1999/xhtml\"">These are the Immunizations for ${Patient.firstname} ${Patient.lastName}. Please review the data for more detail.</div>"
Composition.section[3].code.coding[0].system,Literal `http://loinc.org`,constant,http://loinc.org
Composition.section[3].code.coding[0].code,Literal `11369-6`,constant,11369-6
Composition.section[3].code.coding[0].display,Literal `History of Immunization Narrative`,constant,History of Immunization Narrative
Composition.section[3].entry[n].reference,Literal `Immunization/${Immunization.id}`,constant + GUID,Immunization/4fc9d610-1d02-43af-8ff4-a8d4b258e51f,See Immunization Sheet
